<div>
  <%= form_with(model: article) do |form| %>
    <% if article.errors.any? %>
      <div id="error_explanation">
        <h2>
          <%= pluralize(article.errors.count, "error") %> prohibited this article from being saved:
        </h2>
        
        <ul>
          <% article.errors.each do |error| %>
            <li>
              <%= error.full_message %>
            </li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div>
      <%= form.label :name, "Insert name: " %>
      <%= form.text_field :name%>
    </div>

    <div>
      <%= form.label :description, 'Insert description: ' %>
      <%= form.text_field :description %>
    </div>

    <div>
      <%= form.label :avatar, "Insert main image: " %>
      <%= form.file_field :avatar %>
    </div>

    <div>
      <%= form.label :body, "Insert the article's body: " %>
      <%= form.rich_text_area :body %>
    </div>

    <div>
      <%= collection_check_boxes(:categories, :ids, Category.all, :id, :name) do |box| %>
        <% if article.categories.include?(Category.find(box.object.id)) %>
          <%= box.check_box checked: true %>
        <% else %>
          <%= box.check_box %>
        <% end %>
        
        <%= box.object.name %>
      <% end %>
    </div>

    <div>
      <%= form.submit %>
    </div>
  <% end %>
</div>